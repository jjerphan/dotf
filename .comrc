#           ___           ___           ___           ___           ___
#          /\__\         /\  \         /\  \         /\  \         /\__\
#         /:/  /        /::\  \       |::\  \       /::\  \       /:/  /
#        /:/  /        /:/\:\  \      |:|:\  \     /:/\:\__\     /:/  /
#       /:/  /  ___   /:/  \:\  \   __|:|\:\  \   /:/ /:/  /    /:/  /  ___
#      /:/__/  /\__\ /:/__/ \:\__\ /::::|_\:\__\ /:/_/:/__/___ /:/__/  /\__\
#      \:\  \ /:/  / \:\  \ /:/  / \:\~~\  \/__/ \:\/:::::/  / \:\  \ /:/  /
#       \:\  /:/  /   \:\  /:/  /   \:\  \        \::/~~/~~~~   \:\  /:/  /
#  __    \:\/:/  /     \:\/:/  /     \:\  \        \:\~~\        \:\/:/  /
# /\_\    \::/  /       \::/  /       \:\__\        \:\__\        \::/  /
# \/_/     \/__/         \/__/         \/__/         \/__/         \/__/
#
#       Common profile for all shells.
#       Runs on each new shell
#
#       Defines aliases, and others settings
#
# Personnal profile
source $HOME/.myrc 2> /dev/null

# Aliases

## Profiles ‚úè
export DOTFILES_BARE="$HOME/.dotf"
alias dotf='/usr/bin/git --git-dir=$DOTFILES_BARE --work-tree=$HOME'
alias br="vim $HOME/.bashrc && source $HOME/.bashrc"
alias zr="vim $HOME/.zshrc && source $HOME/.zshrc"
alias mr="vim $HOME/.myrc && source $HOME/.myrc"
alias co="vim $HOME/.comrc && source $HOME/.comrc"
alias vr="vim $HOME/.vimrc"

# To have aliases expansion when using watch
alias watch='watch '
alias wa='watch -n 1 '

# Programs
alias v="vim"
alias toclip="xclip -selection c"

## Python
alias p="python"

export VENVS_FOLDER="$HOME/.virtualenvs"

mkdir -p $VENVS_FOLDER

### To quickly change the venv
function s() {
    deactivate 2> /dev/null
    source $VENVS_FOLDER/$1/bin/activate
}

## Docker üê≥
# List images without Kubernetes fixtures
alias di='docker images | grep -v "kube" | grep -v "k8s"'
alias drmi='docker rmi '
alias drmiall='docker rmi $(docker images -a --filter=dangling=true -q)'
alias drmca='docker rm $(docker ps --filter=status=exited --filter=status=created -q)'
alias drmin="docker images -a | grep '^<none>' | awk '{print $3}' | xargs docker rmi -f"

## Kubernetes ‚ò∏Ô∏è
alias b="bat"
alias c="cat"
alias k="kubectl"
alias klsp="kubectl get pods"
alias krmp="kubectl delete pods"
alias krmj="kubectl delete jobs"
alias krmd="kubectl delete deployments"
alias kcatp="kubectl describe pods"
alias h="helm"

# Shortcuts
alias sc="cd $HOME/.scripts"
alias tmp="cd /tmp"

## Command to display a random manual page
function randoman() {
   man $(ls /bin | shuf -n1)
}

## Command to clone distant git repo hosted on GitHub
ghcl() {
    repo=$1
    git clone git@github.com:$repo.git
}

## Command to clone distant git repo hosted on UTC Gitlab instance
glcl() {
    repo=$1
    git clone git@gitlab.utc.fr:$repo.git
}
