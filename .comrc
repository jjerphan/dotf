#           ___           ___           ___           ___           ___
#          /\__\         /\  \         /\  \         /\  \         /\__\
#         /:/  /        /::\  \       |::\  \       /::\  \       /:/  /
#        /:/  /        /:/\:\  \      |:|:\  \     /:/\:\__\     /:/  /
#       /:/  /  ___   /:/  \:\  \   __|:|\:\  \   /:/ /:/  /    /:/  /  ___
#      /:/__/  /\__\ /:/__/ \:\__\ /::::|_\:\__\ /:/_/:/__/___ /:/__/  /\__\
#      \:\  \ /:/  / \:\  \ /:/  / \:\~~\  \/__/ \:\/:::::/  / \:\  \ /:/  /
#       \:\  /:/  /   \:\  /:/  /   \:\  \        \::/~~/~~~~   \:\  /:/  /
#  __    \:\/:/  /     \:\/:/  /     \:\  \        \:\~~\        \:\/:/  /
# /\_\    \::/  /       \::/  /       \:\__\        \:\__\        \::/  /
# \/_/     \/__/         \/__/         \/__/         \/__/         \/__/
#
#       Common profile for all shells.
#       Runs on each new shell
#
#       Defines aliases, and others settings
#
# Personnal profile
source $HOME/.myrc 2> /dev/null

# Quick navigation between previous folders
d='dirs -v | head -10'
1='cd -'
2='cd -2'
3='cd -3'
4='cd -4'
5='cd -5'
6='cd -6'
7='cd -7'
8='cd -8'
9='cd -9'

# Aliases

## Profiles ‚úè
export DOTFILES_BARE="$HOME/.dotf"
alias dotf='/usr/bin/git --git-dir=$DOTFILES_BARE --work-tree=$HOME'
alias br="vim $HOME/.bashrc && source $HOME/.bashrc"
alias zr="vim $HOME/.zshrc && source $HOME/.zshrc"
alias mr="vim $HOME/.myrc && source $HOME/.myrc"
alias co="vim $HOME/.comrc && source $HOME/.comrc"
alias vr="vim $HOME/.vimrc"
alias tmcf="vim $HOME/.tmux.conf"

# To have aliases expansion when using watch
alias watch='watch '
alias wa='watch -n 1 '

# Programs
alias v="vim "
alias nv="nvim "
alias b="bat "
alias c="cd "
alias more="less "
alias m="less "
alias toclip="xclip -selection c "

## Python
alias p="python "
alias ipy="ipython "
export VENVS_FOLDER="$HOME/.virtualenvs"
mkdir -p $VENVS_FOLDER

### To quickly change the venv
function s() {
    deactivate 2> /dev/null
    source $VENVS_FOLDER/$1/bin/activate
}

## Docker üê≥
# List images without Kubernetes fixtures
alias di='docker images | grep -v "kube" | grep -v "k8s"'
alias drmi='docker rmi '
alias drmiall='docker rmi $(docker images -a --filter=dangling=true -q)'
alias drmca='docker rm $(docker ps --filter=status=exited --filter=status=created -q)'
alias drmin="docker images -a | grep '^<none>' | awk '{print $3}' | xargs docker rmi -f"

docker-bash() {
    docker run -it $1 /bin/bash
}

## Kubernetes ‚ò∏Ô∏è
alias k="kubectl"
alias klsp="kubectl get pods"
alias krmp="kubectl delete pods"
alias krmj="kubectl delete jobs"
alias krmd="kubectl delete deployments"
alias kcatp="kubectl describe pods"
alias h="helm"
alias shck="shellcheck"

# Personnal scripts
export SCRIPTS_FOLDER=$HOME/.scripts
export PATH=$PATH:$SCRIPTS_FOLDER

# Folder for projects
export DEV_FOLDER=$HOME/dev

# Folders shortcut
alias tmp="cd /tmp"
alias sc="cd $SCRIPTS_FOLDER"
alias dl="cd $HOME/Downloads"
alias dev="cd $DEV_FOLDER"

## Command to display a random manual page
function randoman() {
   man $(ls /bin | shuf -n1)
}

## Command to clone distant git repo hosted on GitHub
ghcl() {
    repo=$1
    git clone git@github.com:$repo.git
}

## Command to clone distant git repo hosted on UTC Gitlab instance
glcl() {
    repo=$1
    git clone git@gitlab.utc.fr:$repo.git
}
